---
title: 02.前端基础配置
date: 2021-03-02 10:13:04
permalink: /pages/02.前端基础配置
author: kcy
---

# 前端基础配置
## 开发环境最基础的构建需求
* 构建我们发布需要的 HTML、CSS、JS 文件
* 使用 CSS 预处理器来编写样式
* 引用图片
* 使用 Babel 来支持 ES 新特性
* 本地提供静态服务以方便开发调试

## HTML
* webpack 默认从作为入口的 .js 文件进行构建（更多是基于 SPA 去考虑），但通常一个前端项目都是从一个页面（即 HTML）出发的，最简单的方法是，创建一个 HTML 文件，使用 script 标签直接引用构建好的 JS 文件，但是，如果我们的文件名或者路径会变化，例如使用 [hash] 来进行命名，那么最好是将 HTML 引用路径和我们的构建结果关联起来，这个时候我们可以使用 html-webpack-plugin
```javascript
    npm install html-webpack-plugin -D 

    # 或者
    yarn add html-webpack-plugin -D

    const HtmlWebpackPlugin = require('html-webpack-plugin')

    module.exports = {
    // ...
        plugins: [
            new HtmlWebpackPlugin({
                filename: 'index.html',
                template: 'index.html',
                inject: true,
                favicon: resolve('favicon.ico'),
                title: 'vue-admin-template',
                //html-webpack-plugin 内部集成了 html-minifier，minify 的作用是对 html 文件进行压缩，minify 的属性值是一个压缩选项或者 false 。默认值为false, 不对生成的 html 文件进行压缩
                minify: {
                    removeComments: true, //清理html中的注释
                    collapseWhitespace: true, //清理html中的空格、换行符（类似span元素内字符串包含的空格没有被清理，只有标签头部和尾部的空格被清理）
                    removeAttributeQuotes: true //删除属性引号 <p title="blah" id="moo">foo</p>  ===>  <p title=blah id=moo>foo</p>
                }
            }),
        ],
    }
```
* 这样配置好之后，构建时 html-webpack-plugin 会自动为我们创建一个 HTML 文件，其中会引用构建出来的 JS 文件。
```html
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Webpack App</title>
  </head>
  <body>
    <script src="bundle.js"></script>
  </body>
</html>
```

* 但是实际项目中，默认创建的 HTML 文件通常并不符合实际项目的需要，我们得自己来写 HTML 文件，可以通过 html-webpack-plugin 的配置，传递一个写好的 HTML 模板
* 配置属性：
    + title：生成html文件的标题
    + filename：就是html文件的文件名，默认是index.html
    + template：指定你生成的文件所依赖哪一个html文件模板
    + inject：（true） 默认值，script标签位于html文件的 body 底部；（body） script标签位于html文件的 body 底部 ；（head） script标签位于html文件的 head中；（false） 不插入生成的js文件，这个几乎不会用到的
    + favicon：给你生成的html文件生成一个 favicon,值是一个路径
    + minify:使用minify会对生成的html文件进行压缩。默认是false，html-webpack-plugin内部集成了 html-minifier